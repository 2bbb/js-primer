# データ型とリテラル

## データ型

JavaScriptは動的型付け言語に分類される言語であるため、
静的型付け言語のように変数に型の指定をすることはなく、実行時に型が決定されます。

JavaScriptでは次の6つのプリミティブなデータ型とオブジェクトによって成り立っています。

- プリミティブ型のデータ
    - 真偽値（Boolean）: `true` or `false`
    - 数値（Number）: `42` や `3.14159` など
    - 文字列（String）: `"JavaScript"` など
    - undefined: 値が未定義であるデータ型
    - null: null 値を意味する特殊なデータ型
    - シンボル（Symbol）: `Symbol()`で作られたインスタンスは一意となり不変な値となる
- オブジェクト（Object)
    - オブジェクト、配列、関数などプリミティブ以外のものはオブジェクトの一種

JavaScriptでは`typeof`演算子を使うことで、次のように値のデータ型を調べる事ができます。

![import, typeof-example.js](src/typeof-example.js)

`typeof null; // => "object"`となるのは[The history of “typeof null”][歴史的経緯のある仕様バグ]ですが、
他のプリミティブ値についてはそれぞれのデータ型を調べる事ができます。

オブジェクトと一言にいってもJavaScriptでは全てがオブジェクトであると言われるほど、多くの種類が存在します。
`typeof`演算子では複合型と言われるオブジェクトの細かい種類を知ることはできません。

つまり、`typeof`演算子はプリミティブ型かオブジェクトであるかだけを判別するもので、
オブジェクトの細かい型については別の方法を判定するようになっています。
詳しくは各オブジェクトの中で見ていきます。

## リテラル

プリミティブな値やオブジェクトは**リテラル**を使うことでプログラムに表現することができます。

### 真偽値（Boolean）

真偽値は`true`または`false`のリテラル値があります。

### 数値（Number）

数値は大きく分けて`42`のような整数リテラルと`3.14159`のような浮動小数点リテラルがあります。

#### 整数リテラル

整数リテラルは次の4種類があります。

- 10進数: 先頭がが0ではない数値 - `10`
- 2進数: `0b` または `0B` - `0b1`
    - `0b` の後ろには`0`または`1` の数値
- 8進数: `0o` または `0O` - `0o7` [^1]
    - `0o` の後ろには `0`から`7` までの数値
- 16進数: `0x` または `0X` - `0x15`
    - `0x` の後ろには `0`から`15`までの数値

JavaScriptでは数値は10進数として扱われるため、何も先頭に付けずに数値を書いた場合は10真数となります。

2進数はビットを表現するのによく利用されています。

[import, binary-example.js](src/binary-example.js)

8進数はファイルのパーミッションを表現するのによく利用されています。

[import, octal-example.js](src/octal-example.js)

16進数は文字のコードポイントやRGB値の表現などに利用されています。

[import, hex-example.js](src/hex-example.js)

TODO: もっと具体的なイメージの話をしたい

|        	| 表記例 	| 用途                       |
|--------	|--------	|----------------------------|
| 10進数 	| 42     	| 数値                        |
| 2進数  	| 0b0001 	| ビット演算など               |
| 8進数  	| 0o777  	| ファイルのパーミッションなど     |
| 16進数 	| 0xEEFF 	| 文字コード、RGB値など         |

#### 浮動小数点数リテラル

JavaScriptではIEEE 浮動小数点数形式を採用しています。
浮動小数点数をリテラルと書く場合には次の2種類の表記が利用できます。

- `3.14159` のような `.`（ドット）を含んだ数値
- `2e8` のような `e` または `E` を含んだ数値

`0`から始まる浮動小数点数は、`0`を省略し書くことができます。

```js
.123 // => 0.123
```

しかし、JavaScriptでは`.`をオブジェクトにおいて利用する機械が多いため、
`0`から始まる場合でも省略せずに書いたほうが意図しない挙動を減らせるでしょう。

> **Note** 変数名が数字から始めることができないのは、数値リテラルと衝突してしまうことが理由としてあげられます。

### 文字列（String）

文字列リテラル共通のルールとして、同じ記号で囲んだ範囲を文字列として扱います。
文字列リテラルとして次の3種類のリテラルがありますが、全て評価した結果は同じ"文字列"です。

```js
"文字列";
'文字列';
`文字列`;
```

#### ダブルクオートとシングルクオート

`"`（ダブルクオート）と`'`（シングルクオート）は全く同じ意味となります。
PHPやRubyなどとは違い、どちらのリテラルでも評価結果は全く同じとなります。

文字列リテラルは同じ記号で囲む必要があるため、次のように文字列の中に同じ記号が出現した場合は、
`\'`という形で`\`を使いエスケープしなければなりませんん。

```js
'8 o\'clock'; // => "8 o'clock"
```

そのため、文字列内部に出現しないリテラル記号を使うことで、エスケープをせずに書くことができます。

```js
"8 o'clock"; // => "8 o'clock"
```

ダブルクオートとシングルクオートどちらも改行をそのまま入力することはできません。
次のように改行を含んだ文字列を定義使用すると `Syntax Error` となります。

```js
"複数行の
文字列を
入れたい"; // => Error
```

改行の代わりに改行記号のエスケープシーケンス（`\n`）を使うことで複数行の文字列を書くことができます。


```js
"複数行の\n文字列を\n入れたい";
```


#### [ES2015] Template literal

Template literalは `\``（バックティック）で囲んだ範囲を文字列とするリテラルです。
名前のとおりテンプレートのような機能を持っている他、複数行の文字列を書くことができます。

### undefined
値が未定義であるデータ型
### null
値を意味する特殊なデータ型
### シンボル（Symbol）


## 参考

- [11.8.3.1Static Semantics: MV](http://www.ecma-international.org/ecma-262/7.0/#sec-static-semantics-mv "11.8.3.1Static Semantics: MV")

[^1]: `0o` は数字のゼロと小文字アルファベットの`o`
[The history of “typeof null”]: http://www.2ality.com/2013/10/typeof-null.html  "The history of “typeof null”"